# Vim-style keybindings for tmux

# Enable mouse support
set -g mouse on

# Use C-w as prefix for split commands (like vim)
bind -n C-w switch-client -T prefix_cw

# Split windows with C-w h (horizontal) and C-w v (vertical)
bind -T prefix_cw h split-window -v -c "#{pane_current_path}"
bind -T prefix_cw v split-window -h -c "#{pane_current_path}"

# Close pane with C-w q (like vim)
bind -T prefix_cw q kill-pane

# Reload configuration with C-w r
bind -T prefix_cw r source-file ~/.tmux.conf \; display-message "Config reloaded!"

# Navigate panes with C-h/j/k/l (without prefix, like vim)
bind -n C-h select-pane -L
bind -n C-j select-pane -D
bind -n C-k select-pane -U
bind -n C-l select-pane -R

# Resize panes with Control + Alt/Option + arrow keys
bind -n C-M-Left resize-pane -L 5
bind -n C-M-Right resize-pane -R 5
bind -n C-M-Up resize-pane -U 5
bind -n C-M-Down resize-pane -D 5

# Toggle fullscreen/zoom with Control + Alt/Option + f
bind -n C-M-f resize-pane -Z

# Zoom toggle - make current pane full size and back with C-w z
bind -T prefix_cw z resize-pane -Z

# Use vim keybindings in copy mode
setw -g mode-keys vi

# Enter copy mode with C-w [ (like vim)
bind -T prefix_cw [ copy-mode

# Vim-style selection and copy in copy mode
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi C-v send-keys -X rectangle-toggle

# Mouse selection copies to clipboard
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"

# Paste with C-w p
bind -T prefix_cw p paste-buffer

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Increase scrollback buffer size
set -g history-limit 10000

# Display pane numbers longer
set -g display-panes-time 2000

# Status bar styling - minimal, matching starship
set -g status-position bottom
set -g status-justify left
set -g status-style 'bg=default fg=#808080'
set -g status-left-length 30
set -g status-right-length 50

# Left side: session name (minimal)
set -g status-left '#[fg=#87afaf,bold]#S #[fg=#808080]â”‚ '

# Window list
set -g window-status-format '#[fg=#606060]#I:#W '
set -g window-status-current-format '#[fg=#ffffff,bold]#I:#W '
set -g window-status-separator ''

# Right side: minimal time display
set -g status-right '#[fg=#606060]%H:%M'

# Pane border colors (subtle)
set -g pane-border-style 'fg=#303030'
set -g pane-active-border-style 'fg=#606060'

# Message styling
set -g message-style 'bg=#303030 fg=#ffffff'
